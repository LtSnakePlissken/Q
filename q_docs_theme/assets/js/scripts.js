function Util(){}Util.hasClass=function(e,t){return e.classList.contains(t)},Util.addClass=function(e,t){t=t.split(" ");e.classList.add(t[0]),1<t.length&&Util.addClass(e,t.slice(1).join(" "))},Util.removeClass=function(e,t){t=t.split(" ");e.classList.remove(t[0]),1<t.length&&Util.removeClass(e,t.slice(1).join(" "))},Util.toggleClass=function(e,t,n){n?Util.addClass(e,t):Util.removeClass(e,t)},Util.setAttributes=function(e,t){for(var n in t)e.setAttribute(n,t[n])},Util.getChildrenByClassName=function(e,t){for(var n=e.children,s=[],i=0;i<n.length;i++)Util.hasClass(n[i],t)&&s.push(n[i]);return s},Util.is=function(e,t){if(t.nodeType)return e===t;for(var n="string"==typeof t?document.querySelectorAll(t):t,s=n.length;s--;)if(n[s]===e)return!0;return!1},Util.setHeight=function(n,s,i,o,l,a){function r(e){var e=e-(u=u||e),t=(o<e&&(e=o),parseInt(e/o*c+n));a&&(t=Math[a](e,n,s-n,o)),i.style.height=t+"px",e<o?window.requestAnimationFrame(r):l&&l()}var c=s-n,u=null;i.style.height=n+"px",window.requestAnimationFrame(r)},Util.scrollTo=function(n,s,i,e){function o(e){var e=e-(r=r||e),t=(s<e&&(e=s),Math.easeInOutQuad(e,a,n-a,s));l.scrollTo(0,t),e<s?window.requestAnimationFrame(o):i&&i()}var l=e||window,a=l.scrollTop||document.documentElement.scrollTop,r=null;e||(a=window.scrollY||document.documentElement.scrollTop);window.requestAnimationFrame(o)},Util.moveFocus=function(e){(e=e||document.getElementsByTagName("body")[0]).focus(),document.activeElement!==e&&(e.setAttribute("tabindex","-1"),e.focus())},Util.getIndexInArray=function(e,t){return Array.prototype.indexOf.call(e,t)},Util.cssSupports=function(e,t){return"CSS"in window?CSS.supports(e,t):e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})in document.body.style},Util.extend=function(){var e={},t=!1,n=0,s=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);n<s;n++){i=void 0;var i,o=arguments[n];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t&&"[object Object]"===Object.prototype.toString.call(o[i])?e[i]=extend(!0,e[i],o[i]):e[i]=o[i])}return e},Util.osHasReducedMotion=function(){if(!window.matchMedia)return!1;var e=window.matchMedia("(prefers-reduced-motion: reduce)");return!!e&&e.matches},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null});{function CustomEvent(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent)}function resetFocusTabsStyle(){window.dispatchEvent(new CustomEvent("initFocusTabs"))}Math.easeInOutQuad=function(e,t,n,s){return(e/=s/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},Math.easeInQuart=function(e,t,n,s){return n*(e/=s)*e*e*e+t},Math.easeOutQuart=function(e,t,n,s){return e/=s,-n*(--e*e*e*e-1)+t},Math.easeInOutQuart=function(e,t,n,s){return(e/=s/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},Math.easeOutElastic=function(e,t,n,s){var i=1.70158,o=.7*s,l=n;return 0==e?t:1==(e/=s)?t+n:(o=o||.3*s,i=l<Math.abs(n)?(l=n,o/4):o/(2*Math.PI)*Math.asin(n/l),l*Math.pow(2,-10*e)*Math.sin((e*s-i)*(2*Math.PI)/o)+n+t)},function(){var s=document.getElementsByClassName("js-tab-focus"),e=!1,t=!1,n=!1;function i(){0<s.length&&(l(!1),window.addEventListener("keydown",o)),window.removeEventListener("mousedown",i),n=!(t=!1)}function o(e){9===e.keyCode&&(l(!0),window.removeEventListener("keydown",o),window.addEventListener("mousedown",i),t=!0)}function l(e){for(var t=e?"":"none",n=0;n<s.length;n++)s[n].style.setProperty("outline",t)}function a(){e?n&&l(t):(e=0<s.length,window.addEventListener("mousedown",i))}a(),window.addEventListener("initFocusTabs",a)}(),function(){function e(e){this.element=e,this.items=Util.getChildrenByClassName(this.element,"js-accordion__item"),this.version=this.element.getAttribute("data-version")?"-"+this.element.getAttribute("data-version"):"",this.showClass="accordion"+this.version+"__item--is-open",this.animateHeight="on"==this.element.getAttribute("data-animation"),this.multiItems=!("off"==this.element.getAttribute("data-multi-items")),this.deepLinkOn="on"==this.element.getAttribute("data-deep-link"),this.initAccordion()}e.prototype.initAccordion=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e].getElementsByTagName("button")[0],n=this.items[e].getElementsByClassName("js-accordion__panel")[0],s=Util.hasClass(this.items[e],this.showClass)?"true":"false";Util.setAttributes(t,{"aria-expanded":s,"aria-controls":"accordion-content-"+e,id:"accordion-header-"+e}),Util.addClass(t,"js-accordion__trigger"),Util.setAttributes(n,{"aria-labelledby":"accordion-header-"+e,id:"accordion-content-"+e})}this.initAccordionEvents(),this.initDeepLink()},e.prototype.initAccordionEvents=function(){var t=this;this.element.addEventListener("click",function(e){e=e.target.closest(".js-accordion__trigger");e&&0<=Util.getIndexInArray(t.items,e.parentElement)&&t.triggerAccordion(e)})},e.prototype.triggerAccordion=function(e){var t="true"===e.getAttribute("aria-expanded");this.animateAccordion(e,t,!1),!t&&this.deepLinkOn&&history.replaceState(null,"","#"+e.getAttribute("aria-controls"))},e.prototype.animateAccordion=function(e,t,n){var s=e.closest(".js-accordion__item"),i=s.getElementsByClassName("js-accordion__panel")[0],o=t?"false":"true";t||Util.addClass(s,this.showClass),e.setAttribute("aria-expanded",o),this.resetContentVisibility(s,i,t),(this.multiItems||t)&&!n||this.closeSiblings(s)},e.prototype.resetContentVisibility=function(e,t,n){Util.toggleClass(e,this.showClass,!n),t.removeAttribute("style"),n&&!this.multiItems&&this.moveContent()},e.prototype.closeSiblings=function(e){for(var t=Util.getIndexInArray(this.items,e),n=0;n<this.items.length;n++)if(Util.hasClass(this.items[n],this.showClass)&&n!=t)return this.animateAccordion(this.items[n].getElementsByClassName("js-accordion__trigger")[0],!0,!1),!1},e.prototype.moveContent=function(){var e,t=this.element.getElementsByClassName(this.showClass);0!=t.length&&((t=t[0].getBoundingClientRect()).top<0||t.top>window.innerHeight)&&(e=window.scrollY||document.documentElement.scrollTop,window.scrollTo(0,t.top+e))},e.prototype.initDeepLink=function(){var e,t;this.deepLinkOn&&(e=window.location.hash.substr(1))&&""!=e&&(t=this.element.querySelector('.js-accordion__trigger[aria-controls="'+e+'"]'))&&"true"!==t.getAttribute("aria-expanded")&&(this.animateAccordion(t,!1,!0),setTimeout(function(){t.scrollIntoView(!0)}))},window.Accordion=e;var t=document.getElementsByClassName("js-accordion");if(0<t.length)for(var n=0;n<t.length;n++)new e(t[n])}(),function(){function e(e){var i;this.element=e,this.btn=this.element.getElementsByClassName("js-confetti-btn__btn"),this.icon=this.element.getElementsByClassName("js-confetti-btn__icon"),this.animating=!1,this.animationClass="confetti-btn--animate",this.positionVariables="--conf-btn-click-",(i=this).btn.length<1||i.icon.length<1||i.btn[0].addEventListener("click",function(e){var t,n,s;i.animating||(i.animating=!0,e=e,n=(t=i).btn[0].getBoundingClientRect(),document.documentElement.style.setProperty(t.positionVariables+"x",e.clientX-n.left+"px"),document.documentElement.style.setProperty(t.positionVariables+"y",e.clientY-n.top+"px"),Util.addClass(i.element,i.animationClass),(s=i).icon[0].addEventListener("animationend",function e(){s.icon[0].removeEventListener("animationend",e),Util.removeClass(s.element,s.animationClass),s.animating=!1}))})}var t=document.getElementsByClassName("js-confetti-btn");if(0<t.length)for(var n=0;n<t.length;n++)new e(t[n])}(),function(){function e(e){var n=e.getElementsByClassName("js-emoji-rate__comment");0!=n.length&&e.addEventListener("change",function(){var t,e;t=n[0],Util.hasClass(t,"is-hidden")&&(Util.removeClass(t,"is-hidden"),e=t.offsetHeight,window.requestAnimationFrame&&!s&&Util.setHeight(0,e,t,200,function(){var e=t.querySelector("textarea");e&&e.focus(),t.style.height=""},"easeInOutQuad"))})}var t=document.getElementsByClassName("js-emoji-rate"),s=Util.osHasReducedMotion();if(0<t.length)for(var n=0;n<t.length;n++)e(t[n])}(),function(){function e(e){this.element=e,this.controls=this.element.getElementsByClassName("js-exsidenav__control"),this.index=0;for(var t=e=this,n=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}(0,1e3),s=0;s<t.controls.length;s++){var i="exsidenav-"+n+"-"+t.index,o=t.controls[s].nextElementSibling.getAttribute("id");o||(o=i,t.controls[s].nextElementSibling.setAttribute("id",i)),t.index=t.index+1,t.controls[s].setAttribute("aria-controls",o),t.controls[s].getAttribute("aria-expanded")||t.controls[s].setAttribute("aria-expanded","false")}e.element.addEventListener("click",function(e){var t,e=e.target.closest(".js-exsidenav__control");e&&(t="true"===(e=e).getAttribute("aria-expanded")?"false":"true",e.setAttribute("aria-expanded",t))})}window.Exsidenav=e;var t=document.getElementsByClassName("js-exsidenav");if(0<t.length)for(var n=0;n<t.length;n++)new e(t[n])}(),function(){function e(e){this.element=e,this.triggers=document.querySelectorAll('[aria-controls="'+this.element.getAttribute("id")+'"]'),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.modalFocus=this.element.getAttribute("data-modal-first-focus")?this.element.querySelector(this.element.getAttribute("data-modal-first-focus")):null,this.selectedTrigger=null,this.preventScrollEl=this.getPreventScrollEl(),this.showClass="modal--is-visible",this.initModal()}function n(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length}e.prototype.getPreventScrollEl=function(){var e=!1,t=this.element.getAttribute("data-modal-prevent-scroll");return e=t?document.querySelector(t):e},e.prototype.initModal=function(){var t=this;if(this.triggers)for(var e=0;e<this.triggers.length;e++)this.triggers[e].addEventListener("click",function(e){e.preventDefault(),Util.hasClass(t.element,t.showClass)?t.closeModal():(t.selectedTrigger=e.target,t.showModal(),t.initModalEvents())});this.element.addEventListener("openModal",function(e){e.detail&&(t.selectedTrigger=e.detail),t.showModal(),t.initModalEvents()}),this.element.addEventListener("closeModal",function(e){e.detail&&(t.selectedTrigger=e.detail),t.closeModal()}),Util.hasClass(this.element,this.showClass)&&this.initModalEvents()},e.prototype.showModal=function(){var n=this;Util.addClass(this.element,this.showClass),this.getFocusableElements(),this.moveFocusEl&&(this.moveFocusEl.focus(),this.element.addEventListener("transitionend",function e(t){n.moveFocusEl.focus(),n.element.removeEventListener("transitionend",e)})),this.emitModalEvents("modalIsOpen"),this.preventScrollEl&&(this.preventScrollEl.style.overflow="hidden")},e.prototype.closeModal=function(){Util.hasClass(this.element,this.showClass)&&(console.log("close"),Util.removeClass(this.element,this.showClass),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.selectedTrigger&&this.selectedTrigger.focus(),this.cancelModalEvents(),this.emitModalEvents("modalIsClose"),this.preventScrollEl&&(this.preventScrollEl.style.overflow=""))},e.prototype.initModalEvents=function(){this.element.addEventListener("keydown",this),this.element.addEventListener("click",this)},e.prototype.cancelModalEvents=function(){this.element.removeEventListener("keydown",this),this.element.removeEventListener("click",this)},e.prototype.handleEvent=function(e){switch(e.type){case"click":this.initClick(e);case"keydown":this.initKeyDown(e)}},e.prototype.initKeyDown=function(e){e.keyCode&&9==e.keyCode||e.key&&"Tab"==e.key?this.trapFocus(e):(e.keyCode&&13==e.keyCode||e.key&&"Enter"==e.key)&&e.target.closest(".js-modal__close")&&(e.preventDefault(),this.closeModal())},e.prototype.initClick=function(e){(e.target.closest(".js-modal__close")||Util.hasClass(e.target,"js-modal"))&&(e.preventDefault(),this.closeModal())},e.prototype.trapFocus=function(e){this.firstFocusable==document.activeElement&&e.shiftKey&&(e.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!=document.activeElement||e.shiftKey||(e.preventDefault(),this.firstFocusable.focus())},e.prototype.getFocusableElements=function(){var e=this.element.querySelectorAll(i);this.getFirstVisible(e),this.getLastVisible(e),this.getFirstFocusable()},e.prototype.getFirstVisible=function(e){for(var t=0;t<e.length;t++)if(n(e[t])){this.firstFocusable=e[t];break}},e.prototype.getLastVisible=function(e){for(var t=e.length-1;0<=t;t--)if(n(e[t])){this.lastFocusable=e[t];break}},e.prototype.getFirstFocusable=function(){if(this.modalFocus&&Element.prototype.matches)if(this.modalFocus.matches(i))this.moveFocusEl=this.modalFocus;else{this.moveFocusEl=!1;for(var e=this.modalFocus.querySelectorAll(i),t=0;t<e.length;t++)if(n(e[t])){this.moveFocusEl=e[t];break}this.moveFocusEl||(this.moveFocusEl=this.firstFocusable)}else this.moveFocusEl=this.firstFocusable},e.prototype.emitModalEvents=function(e){e=new CustomEvent(e,{detail:this.selectedTrigger});this.element.dispatchEvent(e)},window.Modal=e;var t,s=document.getElementsByClassName("js-modal"),i='[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary';if(0<s.length){for(var o=[],l=0;l<s.length;l++)t=l,o.push(new e(s[t]));window.addEventListener("keydown",function(e){if(e.keyCode&&27==e.keyCode||e.key&&"escape"==e.key.toLowerCase())for(var t=0;t<o.length;t++)o[t].closeModal()})}}(),function(){function e(e){this.element=e,this.triggers=document.querySelectorAll('[aria-controls="'+this.element.getAttribute("id")+'"]'),this.firstFocusable=null,this.lastFocusable=null,this.selectedTrigger=null,this.showClass="sidebar--is-visible",this.staticClass="sidebar--static",this.customStaticClass="",this.readyClass="sidebar--loaded",this.contentReadyClass="sidebar-loaded:show",this.layout=!1,(t=(e=this).element.getAttribute("data-static-class"))&&(e.customStaticClass=" "+t);var t,s=this,n=s;if((e=getComputedStyle(n.element,":before").getPropertyValue("content"))&&""!=e&&"none"!=e&&(a(n),n.element.addEventListener("update-sidebar",function(e){a(n)})),0<(e=document.getElementsByClassName(n.contentReadyClass)).length&&Util.removeClass(e[0],n.contentReadyClass),Util.addClass(n.element,n.readyClass),s.triggers)for(var i=0;i<s.triggers.length;i++)s.triggers[i].addEventListener("click",function(e){if(e.preventDefault(),Util.hasClass(s.element,s.showClass))return s.selectedTrigger=e.target,void o(s);s.selectedTrigger=e.target,e=s,Util.addClass(e.element,e.showClass);var t=e,n=t.element.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');(function(e,t){for(var n=0;n<t.length;n++)if(t[n].offsetWidth||t[n].offsetHeight||t[n].getClientRects().length)return e.firstFocusable=t[n]})(t,n),function(e,t){for(var n=t.length-1;0<=n;n--)if(t[n].offsetWidth||t[n].offsetHeight||t[n].getClientRects().length)return e.lastFocusable=t[n]}(t,n),Util.moveFocus(e.element),(t=s).element.addEventListener("keydown",l.bind(t)),t.element.addEventListener("click",l.bind(t))})}function o(e){Util.removeClass(e.element,e.showClass),e.firstFocusable=null,e.lastFocusable=null,e.selectedTrigger&&e.selectedTrigger.focus(),e.element.removeAttribute("tabindex"),(e=e).element.removeEventListener("keydown",l.bind(e)),e.element.removeEventListener("click",l.bind(e))}function l(e){switch(e.type){case"click":s=this,((i=e).target.closest(".js-sidebar__close-btn")||Util.hasClass(i.target,"js-sidebar"))&&(i.preventDefault(),o(s));case"keydown":var t,n;if(i=this,(s=e).keyCode&&27==s.keyCode||s.key&&"Escape"==s.key)o(i);else(s.keyCode&&9==s.keyCode||s.key&&"Tab"==s.key)&&(n=s,(t=i).firstFocusable==document.activeElement&&n.shiftKey&&(n.preventDefault(),t.lastFocusable.focus()),t.lastFocusable!=document.activeElement||n.shiftKey||(n.preventDefault(),t.firstFocusable.focus()))}var s,i}function a(e){var t=getComputedStyle(e.element,":before").getPropertyValue("content").replace(/\'|"/g,"");t!=e.layout&&("static"!=(e.layout=t)&&Util.addClass(e.element,"is-hidden"),Util.toggleClass(e.element,e.staticClass+e.customStaticClass,"static"==t),"static"!=t&&setTimeout(function(){Util.removeClass(e.element,"is-hidden")}),"static"==t?e.element.removeAttribute("role","alertdialog"):e.element.setAttribute("role","alertdialog"),"static"==t&&Util.hasClass(e.element,e.showClass)&&o(e))}var t=document.getElementsByClassName("js-sidebar");if(0<t.length){for(var n=0;n<t.length;n++)new e(t[n]);var s=new CustomEvent("update-sidebar");function i(){for(var e=0;e<t.length;e++)t[e].dispatchEvent(s)}window.addEventListener("resize",function(e){window.requestAnimationFrame?window.requestAnimationFrame(i):setTimeout(function(){i()},250)}),window.requestAnimationFrame?window.requestAnimationFrame(i):i()}}(),function(){var t=document.getElementById("main-search-input");t&&window.addEventListener("keydown",function(e){e.key&&"/"==e.key.toLowerCase()&&(e.preventDefault(),t.focus())})}(),function(){function e(e){"CSS"in window&&CSS.supports("color","var(--color-var)")&&(this.element=e,this.scrollDuration=parseInt(this.element.getAttribute("data-duration"))||300,this.dataElementY=this.element.getAttribute("data-scrollable-element-y")||this.element.getAttribute("data-scrollable-element")||this.element.getAttribute("data-element"),this.scrollElementY=this.dataElementY?document.querySelector(this.dataElementY):window,this.dataElementX=this.element.getAttribute("data-scrollable-element-x"),this.scrollElementX=this.dataElementY?document.querySelector(this.dataElementX):window,this.scrollPaddingEl=document.querySelector(".js-side-template-v3__main"),this.initScroll())}e.prototype.initScroll=function(){var l=this;this.element.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".js-smooth-scroll").getAttribute("href").replace("#",""),n=document.getElementById(t),s=n.getAttribute("tabindex"),e=l.scrollElementY.scrollTop||document.documentElement.scrollTop,i=(l.dataElementY||(e=window.scrollY||document.documentElement.scrollTop),!!l.dataElementY&&l.scrollElementY),o=l.getFixedElementHeight();Util.scrollTo(n.getBoundingClientRect().top+e-o,l.scrollDuration,function(){l.scrollHorizontally(n,o),Util.moveFocus(n),history.pushState(!1,!1,"#"+t),l.resetTarget(n,s)},i)})},e.prototype.scrollHorizontally=function(e,t){var n,s=!!this.dataElementX&&this.scrollElementX,i=(this.scrollElementX||document.documentElement).scrollLeft,o=e.getBoundingClientRect().left+i-t,l=this.scrollDuration,a=s||window,r=a.scrollLeft||document.documentElement.scrollLeft,c=null;s||(r=window.scrollX||document.documentElement.scrollLeft),Math.abs(r-o)<5||(n=function(e){var e=e-(c=c||e),t=(l<e&&(e=l),Math.easeInOutQuad(e,r,o-r,l));a.scrollTo({left:t}),e<l&&window.requestAnimationFrame(n)},window.requestAnimationFrame(n))},e.prototype.resetTarget=function(n,e){parseInt(n.getAttribute("tabindex"))<0&&(e||n.removeAttribute("tabindex"),Util.addClass(n,"toc-content__target--selected"),n.addEventListener("animationend",function e(t){t.stopPropagation(),n.removeEventListener("animationend",e),Util.removeClass(n,"toc-content__target--selected")}))},e.prototype.getFixedElementHeight=function(){var e,t=parseInt(getComputedStyle(this.scrollPaddingEl).getPropertyValue("scroll-padding"));return isNaN(t)&&(t=0,(e=document.querySelector(this.element.getAttribute("data-fixed-element")))&&(t=parseInt(e.getBoundingClientRect().height))),t};var t=document.getElementsByClassName("js-smooth-scroll");if(0<t.length&&window.requestAnimationFrame)for(var n=0;n<t.length;n++)new e(t[n])}(),function(){var t,e,n=document.getElementById("switch-light-dark");n&&(t=document.getElementsByTagName("html")[0],e=n.querySelector('input[value="dark"]'),"dark"==t.getAttribute("data-theme")&&(e.checked=!0),n.addEventListener("change",function(e){"dark"==e.target.value?(t.setAttribute("data-theme","dark"),localStorage.setItem("themeSwitch","dark")):(t.removeAttribute("data-theme"),localStorage.setItem("themeSwitch","light"))}))}(),function(){function l(e){if("CSS"in window&&CSS.supports("color","var(--color-var)")){this.options=Util.extend(l.defaults,e),this.element=this.options.element,this.input=this.element.getElementsByClassName("js-autocomplete__input")[0],this.results=this.element.getElementsByClassName("js-autocomplete__results")[0],this.resultsList=this.results.getElementsByClassName("js-autocomplete__list")[0],this.ariaResult=this.element.getElementsByClassName("js-autocomplete__aria-results"),this.resultClassName=0<this.element.getElementsByClassName("js-autocomplete__item").length?"js-autocomplete__item":"js-autocomplete__result",this.inputVal="",this.typeId=!1,this.searching=!1,this.searchingClass=this.element.getAttribute("data-autocomplete-searching-class")||"autocomplete--searching",this.dropdownActiveClass=this.element.getAttribute("data-autocomplete-dropdown-visible-class")||this.element.getAttribute("data-dropdown-active-class"),this.truncateDropdown=!(!this.element.getAttribute("data-autocomplete-dropdown-truncate")||"on"!=this.element.getAttribute("data-autocomplete-dropdown-truncate"));var t=e=this,n=(Util.setAttributes(t.input,{role:"combobox","aria-autocomplete":"list"}),t.resultsList.getAttribute("id")),s=(n&&t.input.setAttribute("aria-owns",n),t.resultsList.setAttribute("role","list"),e);s.templateItems=s.resultsList.querySelectorAll("."+s.resultClassName+"[data-autocomplete-template]"),s.templateItems.length<1&&(s.templateItems=s.resultsList.querySelectorAll("."+s.resultClassName)),s.templates=[];for(var i=0;i<s.templateItems.length;i++)s.templates[i]=s.templateItems[i].getAttribute("data-autocomplete-template");var o=e;o.input.addEventListener("keyup",function(e){var t;t=o,("arrowdown"==(e=e).key.toLowerCase()||"40"==e.keyCode?function(e){var t;console.log("test"),Util.hasClass(e.element,e.dropdownActiveClass)&&(u(e),t=0,m(e.resultsItems[t])||(t=d(e,t,!0)),h(e.resultsItems[t]).focus())}:r)(t)}),o.input.addEventListener("search",function(e){r(o)}),o.input.addEventListener("click",function(e){r(o,!0)}),o.input.addEventListener("focus",function(e){o.autocompleteClosed?o.autocompleteClosed=!1:r(o,!0)}),o.input.addEventListener("blur",function(e){a(o,e)}),o.resultsList.addEventListener("keydown",function(e){var t,n,s;t=o,n="arrowdown"==(e=e).key.toLowerCase()||"40"==e.keyCode,s="arrowup"==e.key.toLowerCase()||"38"==e.keyCode,(n||s)&&(e.preventDefault(),s=document.activeElement.closest("."+t.resultClassName)||document.activeElement,e=Util.getIndexInArray(t.resultsItems,s),s=d(t,e,n),h(t.resultsItems[s]).focus())}),o.resultsList.addEventListener("focusout",function(e){a(o,e)}),window.addEventListener("keyup",function(e){e.keyCode&&27==e.keyCode||e.key&&"escape"==e.key.toLowerCase()?c(o,!1):(e.keyCode&&13==e.keyCode||e.key&&"enter"==e.key.toLowerCase())&&g(o,document.activeElement.closest("."+o.resultClassName),e)}),o.resultsList.addEventListener("click",function(e){g(o,e.target.closest("."+o.resultClassName),e)}),this.autocompleteClosed=!1}}function a(e,t){e.element.contains(t.relatedTarget)||c(e,!1)}function r(e,t){var n=e.input.value;n==e.inputVal&&!t||(e.inputVal=n,e.typeId&&clearInterval(e.typeId),e.inputVal.length<e.options.characters?c(e,!1):t?s(e,"focus"):e.typeId=setTimeout(function(){s(e,"type")},e.options.debounce))}function c(e,t){var n,s;t?Util.hasClass(e.element,e.dropdownActiveClass)||(Util.addClass(e.element,e.dropdownActiveClass),e.input.setAttribute("aria-expanded",!0),(t=e).truncateDropdown&&(t.resultsList.style.maxHeight="",n=window.innerHeight-t.input.getBoundingClientRect().bottom-10,s=parseInt(getComputedStyle(t.resultsList).maxHeight),t.resultsList.style.maxHeight=n<s?n+"px":"")):Util.hasClass(e.element,e.dropdownActiveClass)&&(e.resultsList.contains(document.activeElement)&&(e.autocompleteClosed=!0,e.input.focus()),Util.removeClass(e.element,e.dropdownActiveClass),e.input.removeAttribute("aria-expanded"),u(e))}function s(o,e){o.searching||(o.searching=!0,Util.addClass(o.element,o.searchingClass),o.options.searchData(o.inputVal,function(e){for(var t=o,n=e,s="",i=0;i<n.length;i++)s+=function(e,t){var n,s=function(e,t){var n=!1;if(1!=e.templateItems.length&&t.template){for(var s=0;s<e.templateItems.length;s++)t.template==e.templates[s]&&(n=e.templateItems[s]);n=n||e.templateItems[0]}else n=e.templateItems[0];return n.cloneNode(!0)}(e,t);for(n in Util.removeClass(s,"is-hidden"),s.setAttribute("tabindex","-1"),t)t.hasOwnProperty(n)&&("label"==n?function(e,t){var n=e.querySelector("[data-autocomplete-label]");n?n.textContent=t:e.textContent=t}(s,t[n]):"class"==n?function(e,t){Util.addClass(e,t)}(s,t[n]):"url"==n?function(e,t){e=e.querySelector("[data-autocomplete-url]");e&&e.setAttribute("href",t)}(s,t[n]):"src"==n?function(e,t){e=e.querySelector("[data-autocomplete-src]");e&&e.setAttribute("src",t)}(s,t[n]):function(e,t,n){e=e.querySelector("[data-autocomplete-"+t+"]");e&&(e.hasAttribute("data-autocomplete-html")?e.innerHTML=n:e.textContent=n)}(s,n,t[n]));return s.outerHTML}(t,n[i]);t.resultsList.innerHTML=s,Util.removeClass(o.element,o.searchingClass),c(o,!0),(e=o).resultsItems=e.resultsList.querySelectorAll("."+e.resultClassName+'[tabindex="-1"]'),0!=e.ariaResult.length&&(e.ariaResult[0].textContent=e.resultsItems.length),o.searching=!1},e))}function u(e){e.typeId&&clearInterval(e.typeId),e.typeId=!1}function d(e,t,n){t=n?t+1:t-1;return(t=t<0?e.resultsItems.length-1:t)>=e.resultsItems.length&&(t=0),m(e.resultsItems[t])?t:d(e,t,n)}function m(e){e=e.getAttribute("role");return!e||"presentation"!=e}function h(e){var t=e.querySelectorAll("button:not([disabled]), [href]");return e=0<t.length?t[0]:e}function g(e,t,n){t&&(e.options.onClick?e.options.onClick(t,e,n,function(){c(e,!1)}):(e.input.value=((n=t).querySelector("[data-autocomplete-label]")||n).textContent,c(e,!1)),e.inputVal=e.input.value)}l.defaults={element:"",debounce:200,characters:2,searchData:!1,onClick:!1},window.Autocomplete=l}(),function(){function e(e){var n=e.getElementsByClassName("js-rate-cont__comment");0!=n.length&&e.addEventListener("change",function(){var t,e;t=n[0],Util.hasClass(t,"is-hidden")&&(Util.removeClass(t,"is-hidden"),e=t.offsetHeight,window.requestAnimationFrame&&!s&&Util.setHeight(0,e,t,200,function(){var e=t.querySelector("textarea");e&&e.focus(),t.style.height=""},"easeInOutQuad"))})}var t=document.getElementsByClassName("js-rate-cont"),s=Util.osHasReducedMotion();if(0<t.length)for(var n=0;n<t.length;n++)e(t[n])}(),function(){function e(e){this.element=e,this.modalContent=this.element.getElementsByClassName("js-modal-video__content")[0],this.media=this.element.getElementsByClassName("js-modal-video__media")[0],this.contentIsIframe="iframe"==this.media.tagName.toLowerCase(),this.modalIsOpen=!1,this.initModalVideo()}e.prototype.initModalVideo=function(){var t=this;this.addLoadListener(),this.element.addEventListener("modalIsOpen",function(e){t.modalIsOpen=!0,t.media.setAttribute("src",e.detail.closest("[aria-controls]").getAttribute("data-url"))}),this.element.addEventListener("modalIsClose",function(e){t.modalIsOpen=!1,Util.addClass(t.element,"modal--is-loading"),t.media.setAttribute("src","")})},e.prototype.addLoadListener=function(){var e=this;this.contentIsIframe?this.media.onload=function(){e.revealContent()}:this.media.addEventListener("loadedmetadata",function(){e.revealContent()})},e.prototype.revealContent=function(){this.modalIsOpen&&(Util.removeClass(this.element,"modal--is-loading"),(this.contentIsIframe?this.media.contentWindow:this.media).focus())};var t=document.getElementsByClassName("js-modal-video__media");if(0<t.length)for(var n=0;n<t.length;n++)new e(t[n].closest(".js-modal"))}(),function(){function e(e){this.element=e,this.list=this.element.getElementsByClassName("js-toc__list")[0],this.anchors=this.list.querySelectorAll('a[href^="#"]'),this.sections=function(e){for(var t=[],n=0;n<e.anchors.length;n++){var s=document.getElementById(e.anchors[n].getAttribute("href").replace("#",""));s&&t.push(s)}return t}(this),this.controller=this.element.getElementsByClassName("js-toc__control"),this.controllerLabel=this.element.getElementsByClassName("js-toc__control-label"),this.content=!((e=this).sections.length<1)&&e.sections[0].closest(".js-toc-content"),this.clickScrolling=!1,this.intervalID=!1,this.staticLayoutClass="toc--static",this.contentStaticLayoutClass="toc-content--toc-static",this.expandedClass="toc--expanded",this.isStatic=Util.hasClass(this.element,this.staticLayoutClass),this.layout="static";var n=this;if(l(n),0<n.sections.length){if(n.list.addEventListener("click",function(e){e=e.target.closest('a[href^="#"]');e&&(n.clickScrolling=!0,o(n,e),a(n,!0))}),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)for(var t=new IntersectionObserver(function(e,t){e.forEach(function(e){var s;n.clickScrolling||((s=n).intervalID&&clearInterval(s.intervalID),s.intervalID=setTimeout(function(){for(var e=window.innerHeight/2,t=-1,n=0;n<s.sections.length;n++)s.sections[n].getBoundingClientRect().top<e&&(t=n);-1<t&&o(s,s.anchors[t]),s.intervalID=!1},100))})},{threshold:[0,.1],rootMargin:"0px 0px -70% 0px"}),s=0;s<n.sections.length;s++)t.observe(n.sections[s]);n.element.addEventListener("toc-scroll",function(e){n.clickScrolling=!1})}n.element.addEventListener("toc-resize",function(e){l(n)});var i=n;i.controller.length<1||(i.controller[0].addEventListener("click",function(e){var t=Util.hasClass(i.element,i.expandedClass);a(i,t)}),i.element.addEventListener("keydown",function(e){"static"!=i.layout&&(e.keyCode&&27==e.keyCode||e.key&&"escape"==e.key.toLowerCase())&&(a(i,!0),i.controller[0].focus())}))}function o(e,t){if(t){for(var n=0;n<e.anchors.length;n++)Util.removeClass(e.anchors[n],"toc__link--selected");Util.addClass(t,"toc__link--selected")}}function l(e){e.isStatic||(e.layout=getComputedStyle(e.element,":before").getPropertyValue("content").replace(/\'|"/g,""),Util.toggleClass(e.element,e.staticLayoutClass,"static"==e.layout),e.content&&Util.toggleClass(e.content,e.contentStaticLayoutClass,"static"==e.layout))}function a(e,t){Util.toggleClass(e.element,e.expandedClass,!t),t?e.controller[0].removeAttribute("aria-expanded"):e.controller[0].setAttribute("aria-expanded","true"),!t&&0<e.anchors.length&&e.anchors[0].focus()}var t,n=document.getElementsByClassName("js-toc"),s=[];if(0<n.length){for(var i=0;i<n.length;i++)t=i,s.push(new e(n[t]));var r=!1,c=new CustomEvent("toc-scroll"),u=new CustomEvent("toc-resize");function d(){for(var e=0;e<s.length;e++)s[e].element.dispatchEvent(c)}function m(){for(var e=0;e<s.length;e++)s[e].element.dispatchEvent(u)}window.addEventListener("scroll",function(){clearTimeout(r),r=setTimeout(d,100)}),window.addEventListener("resize",function(){clearTimeout(!1),r=setTimeout(m,100)})}}(),function(){var s,i,e=document.getElementsByClassName("js-autocomplete");0!=e.length&&(s=[{label:"Inspector",category:"Interface",url:"basic-page.html"},{label:"Timeline",category:"Interface",url:"basic-page.html"},{label:"Comments",category:"Syntax",url:"basic-page.html"},{label:"Structure",category:"Syntax",url:"basic-page.html"},{label:"How invoicing works",category:"Invoicing > Customers",url:"basic-page.html"},{label:"Taxes",category:"Invoicing > Customers",url:"basic-page.html"}],i=[{label:"Timeline",category:"Interface",url:"basic-page.html"},{label:"Taxes",category:"Testing > Customers",url:"basic-page.html"}],new Autocomplete({element:e[0],characters:0,searchData:function(t,e){var n=i;e(n=1<t.length?s.filter(function(e){return-1<e.label.toLowerCase().indexOf(t.toLowerCase())||-1<e.category.toLowerCase().indexOf(t.toLowerCase())}):n)}}))}();